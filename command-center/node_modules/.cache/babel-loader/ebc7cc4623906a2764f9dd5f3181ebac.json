{"ast":null,"code":"import _asyncToGenerator from\"/command-center/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/command-center/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{Helmet}from\"react-helmet\";import{TascomFooter,AsideInformations,VerifyInsert,InternationPanelCard,Select}from\"../../components\";import{Loading,Error}from\"../../helper\";import useHDUIUTI from\"../../service/useHDUIUTI\";import useSND from\"../../service/useSND\";import{format,parseISO}from\"date-fns\";import useUtilities from\"../../service/useUtilities\";import{useTransition,animated,config}from\"react-spring\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SNDOne(){var intervalPagination=60000;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var _React$useState5=React.useState(\"-\"),_React$useState6=_slicedToArray(_React$useState5,2),filter=_React$useState6[0],setFilter=_React$useState6[1];var _useUtilities=useUtilities(),limitName=_useUtilities.limitName;// Requests\nvar _useHDUIUTI=useHDUIUTI(),getUnities=_useHDUIUTI.getUnities;var _useSND=useSND(),getHospitalizations=_useSND.getHospitalizations;// Unities\nvar refGetUnities=React.useRef(getUnities);var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),unities=_React$useState8[0],setUnities=_React$useState8[1];React.useEffect(function(){function executeRequest(){return _executeRequest.apply(this,arguments);}function _executeRequest(){_executeRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$refGetUnities$,unit,formatedUntites;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return refGetUnities.current();case 3:_yield$refGetUnities$=_context.sent;unit=_yield$refGetUnities$.unit;formatedUntites=unit.map(function(_ref){var DS_UNID_INT=_ref.DS_UNID_INT;return DS_UNID_INT;});setUnities(formatedUntites);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 12:_context.prev=12;setLoading(false);return _context.finish(12);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,9,12,15]]);}));return _executeRequest.apply(this,arguments);}executeRequest();},[]);// Hospitalizations\nvar refGetHospitalizations=React.useRef(getHospitalizations);var _React$useState9=React.useState(1),_React$useState10=_slicedToArray(_React$useState9,2),page=_React$useState10[0],setPage=_React$useState10[1];var _React$useState11=React.useState(1),_React$useState12=_slicedToArray(_React$useState11,2),totalPage=_React$useState12[0],setTotalPage=_React$useState12[1];var _React$useState13=React.useState([]),_React$useState14=_slicedToArray(_React$useState13,2),hospitalizations=_React$useState14[0],setHospitalizations=_React$useState14[1];React.useEffect(function(){function executeRequest(){return _executeRequest2.apply(this,arguments);}function _executeRequest2(){_executeRequest2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$refGetHospital,_totalPage,_hospitalizations;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return refGetHospitalizations.current(filter,page,5);case 3:_yield$refGetHospital=_context2.sent;_totalPage=_yield$refGetHospital.totalPage;_hospitalizations=_yield$refGetHospital.hospitalizations;setTotalPage(_totalPage);setError(false);if(page>_totalPage&&page>1){setPage(1);}else{setHospitalizations(_hospitalizations);}_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);setError(_context2.t0.message);case 14:_context2.prev=14;setLoading(false);return _context2.finish(14);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11,14,17]]);}));return _executeRequest2.apply(this,arguments);}executeRequest();var interval=setInterval(function(){setPage(function(page){return page+1;});},intervalPagination);return function(){return clearInterval(interval);};},[page,filter]);// Transitions of Pages\nvar transitionsInternations=useTransition(hospitalizations,{from:{opacity:0,y:-10},enter:{opacity:1,y:0},leave:{display:\"none\"},trail:100,delay:50,config:config.gentle});var titlesOne=[{color:\"#FFF50B\",title:\"CONTATO\"},{color:\"#00318F\",title:\"GOTÍCULAS\"},{color:\"#2EA7FF\",title:\"CONTATO E GOTÍCULAS\"},{color:\"#72592F\",title:\"CONTATO E AEROSSÓIS\"},{color:\"#783809\",title:\"AEROSSÓIS\"}];var titlesTwo=[{color:\"#BCBE44\",title:\"PEWS\"},{color:\"#8F00FF\",title:\"AGENDADO\"},{title:\"P\\xE1ginas: \".concat(page,\"/\").concat(totalPage)},{color:\"#52FF00\",title:\"OK\"},{color:\"#F0303F\",title:\"PENDENTE\"},{color:\"#FF7100\",title:\"APRAZ. PENDENTE \"}];// colors config\nvar SAE=[{status:\"V\",color:\"#52FF00\"},{status:\"F\",color:\"#F0303F\"},{status:\"L\",color:\"#F0303F\"}];var PM=[{status:\"S\",color:\"#52FF00\"},{status:\"V\",color:\"#FF7100\"},{status:\"N\",color:\"#FF7100\"}];var ISOLATION=[{status:\"CONTATO + AEROSSOL\",color:\"#72592F\"},{status:\"CONTATO + GOTÍCULA\",color:\"#2EA7FF\"},{status:\"CONTATO\",color:\"#FFF50B\"},{status:\"AEROSSOL\",color:\"#783809\"},{status:\"GOTÍCULA\",color:\"#00318F\"}];if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"main\",{className:\"min-h-screen w-full flex flex-col justify-center\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"CMDC | Interna\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Dashboard relacionado as interna\\xE7\\xF5es de pacientes.\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"px-5 flex-1 flex flex-col justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-2\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl text-white text-center font-semibold\",children:[\"PAINEL DE INTERNA\\xC7\\xC3O - \",filter===\"-\"?\"GERAL\":filter]}),/*#__PURE__*/_jsx(Select,{value:filter,defaultValue:\"GERAL\",setValue:function setValue(value){setPage(1);setFilter(value);},options:unities,className:\"text-xs h-7 absolute top-0 right-0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:max-h-114 max-h-full sm:h-screen h-full flex flex-col gap-3\",children:/*#__PURE__*/_jsx(VerifyInsert,{display:hospitalizations.length,message:\"N\\xE3o h\\xE1 Interna\\xE7\\xF5es no momento\",className:\"text-lg whitespace-normal text-white mt-5\",children:transitionsInternations(function(style,internation){var saeColor=SAE.reduce(function(acc,_ref2){var status=_ref2.status,color=_ref2.color;return internation.SAE===status?color:acc;},\"transparent\");var pmColor=PM.reduce(function(acc,_ref3){var status=_ref3.status,color=_ref3.color;return internation.SAE===status?color:acc;},\"transparent\");var isolationColor=ISOLATION.reduce(function(acc,_ref4){var status=_ref4.status,color=_ref4.color;return internation.ISOLAMENTO===status?color:acc;},\"transparent\");var labAlert=internation.QTD_LAB_RESULTADO>=1;var imgAlert=internation.RESULTADO_IMAGEM>=1;var procAlert=internation.PRODT>=1;setTimeout(function(){var lab=document.getElementById(\"lab -\"+internation.CD_ATENDIMENTO);var img=document.getElementById(\"img -\"+internation.CD_ATENDIMENTO);var proc=document.getElementById(\"proc -\"+internation.CD_ATENDIMENTO);if(!!lab){lab.classList.remove(\"animate-pulse-plus\");}if(!!img){img.classList.remove(\"animate-pulse-plus\");}if(!!proc){proc.classList.remove(\"animate-pulse-plus\");}},10000);return/*#__PURE__*/_jsx(animated.div,{style:style,children:/*#__PURE__*/_jsx(InternationPanelCard,{data:{attendance:internation.CD_ATENDIMENTO,bed:internation.DS_LEITO,name:limitName(internation.NM_PACIENTE,3),birthDate:format(parseISO(internation.DT_NASCIMENTO),\"dd/MM/yyyy\"),years:internation.IDADE,weight:internation.PESO,dispositive:internation.DISPOSITIVO,diet:internation.DIETA,especialty:internation.ESPECIALIDADE,curatives:internation.CURATIVO?\"SIM\":\"NÃO\",pattern:internation.NAO_PADRONIZADO},bgColor:internation.DT_ALTA_MEDICA?\"#000000\":\"#1D2026\",alert:false,isolation:{color:isolationColor,text:internation.ISOLAMENTO},alergy:{color:\"#F0303F\",text:internation.ALERGIA},sae:{color:saeColor},pm:{color:pmColor},lab:{id:\"lab -\"+internation.CD_ATENDIMENTO,color:internation.QTD_LAB_RESULTADO>=1?\"#52FF00\":\"#F0303F\",text:internation.QTD_EXAME_LAB,alert:labAlert},xray:{id:\"img -\"+internation.CD_ATENDIMENTO,color:internation.RESULTADO_IMAGEM>=1?\"#52FF00\":\"#F0303F\",text:internation.QTD_EX_IMAG,alert:imgAlert},proc:{id:\"proc -\"+internation.CD_ATENDIMENTO,color:internation.PRODT===internation.PROCEDIMENTO?\"#52FF00\":\"#8F00FF\",text:internation.PROCEDIMENTO,alert:procAlert},pews:{quantity:internation.PEWS,date:internation.DTPEWS,alert:internation.PEWS>=3,color:internation.PEWS>=3?\"#BCBE44\":\"#FFF\"},color:page%2===0?\"#75BDFF\":\"#0E8BFF\",className:\"sm:h-24 h-full w-full\"})});})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between flex-wrap gap-2 w-full mt-1 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-blackCMDC bg-opacity-50 rounded-lg divide-x-1 divide-gray-800 px-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm text-white mr-2\",children:\"Isolamento\"}),/*#__PURE__*/_jsx(AsideInformations,{data:titlesOne,labelClass:\"grid grid-cols-3 text-xsm\",className:\"w-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blackCMDC bg-opacity-50 rounded-lg px-4\",children:/*#__PURE__*/_jsx(AsideInformations,{data:titlesTwo,labelClass:\"grid grid-cols-3 text-xsm\",className:\"w-full\"})})]})]})}),/*#__PURE__*/_jsx(TascomFooter,{}),error&&/*#__PURE__*/_jsx(Error,{message:error})]});}export default SNDOne;","map":{"version":3,"sources":["/command-center/src/pages/Internations/Internations.jsx"],"names":["React","Helmet","TascomFooter","AsideInformations","VerifyInsert","InternationPanelCard","Select","Loading","Error","useHDUIUTI","useSND","format","parseISO","useUtilities","useTransition","animated","config","SNDOne","intervalPagination","useState","loading","setLoading","error","setError","filter","setFilter","limitName","getUnities","getHospitalizations","refGetUnities","useRef","unities","setUnities","useEffect","executeRequest","current","unit","formatedUntites","map","DS_UNID_INT","message","refGetHospitalizations","page","setPage","totalPage","setTotalPage","hospitalizations","setHospitalizations","interval","setInterval","clearInterval","transitionsInternations","from","opacity","y","enter","leave","display","trail","delay","gentle","titlesOne","color","title","titlesTwo","SAE","status","PM","ISOLATION","value","length","style","internation","saeColor","reduce","acc","pmColor","isolationColor","ISOLAMENTO","labAlert","QTD_LAB_RESULTADO","imgAlert","RESULTADO_IMAGEM","procAlert","PRODT","setTimeout","lab","document","getElementById","CD_ATENDIMENTO","img","proc","classList","remove","attendance","bed","DS_LEITO","name","NM_PACIENTE","birthDate","DT_NASCIMENTO","years","IDADE","weight","PESO","dispositive","DISPOSITIVO","diet","DIETA","especialty","ESPECIALIDADE","curatives","CURATIVO","pattern","NAO_PADRONIZADO","DT_ALTA_MEDICA","text","ALERGIA","id","QTD_EXAME_LAB","alert","QTD_EX_IMAG","PROCEDIMENTO","quantity","PEWS","date","DTPEWS"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport {\r\n  TascomFooter,\r\n  AsideInformations,\r\n  VerifyInsert,\r\n  InternationPanelCard,\r\n  Select,\r\n} from \"../../components\";\r\nimport { Loading, Error } from \"../../helper\";\r\nimport useHDUIUTI from \"../../service/useHDUIUTI\";\r\nimport useSND from \"../../service/useSND\";\r\nimport { format, parseISO } from \"date-fns\";\r\nimport useUtilities from \"../../service/useUtilities\";\r\nimport { useTransition, animated, config } from \"react-spring\";\r\n\r\nfunction SNDOne() {\r\n  const intervalPagination = 60000;\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState(false);\r\n  const [filter, setFilter] = React.useState(\"-\");\r\n  const { limitName } = useUtilities();\r\n\r\n  // Requests\r\n  const { getUnities } = useHDUIUTI();\r\n  const { getHospitalizations } = useSND();\r\n\r\n  // Unities\r\n  const refGetUnities = React.useRef(getUnities);\r\n  const [unities, setUnities] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    async function executeRequest() {\r\n      try {\r\n        const { unit } = await refGetUnities.current();\r\n        const formatedUntites = unit.map(({ DS_UNID_INT }) => DS_UNID_INT);\r\n\r\n        setUnities(formatedUntites);\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    executeRequest();\r\n  }, []);\r\n\r\n  // Hospitalizations\r\n  const refGetHospitalizations = React.useRef(getHospitalizations);\r\n  const [page, setPage] = React.useState(1);\r\n  const [totalPage, setTotalPage] = React.useState(1);\r\n  const [hospitalizations, setHospitalizations] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    async function executeRequest() {\r\n      try {\r\n        const { totalPage, hospitalizations } =\r\n          await refGetHospitalizations.current(filter, page, 5);\r\n        setTotalPage(totalPage);\r\n        setError(false);\r\n        if (page > totalPage && page > 1) {\r\n          setPage(1);\r\n        } else {\r\n          setHospitalizations(hospitalizations);\r\n        }\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    executeRequest();\r\n\r\n    const interval = setInterval(() => {\r\n      setPage((page) => page + 1);\r\n    }, intervalPagination);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [page, filter]);\r\n\r\n  // Transitions of Pages\r\n  const transitionsInternations = useTransition(hospitalizations, {\r\n    from: { opacity: 0, y: -10 },\r\n    enter: { opacity: 1, y: 0 },\r\n    leave: { display: \"none\" },\r\n    trail: 100,\r\n    delay: 50,\r\n    config: config.gentle,\r\n  });\r\n\r\n  const titlesOne = [\r\n    { color: \"#FFF50B\", title: \"CONTATO\" },\r\n    { color: \"#00318F\", title: \"GOTÍCULAS\" },\r\n    { color: \"#2EA7FF\", title: \"CONTATO E GOTÍCULAS\" },\r\n    { color: \"#72592F\", title: \"CONTATO E AEROSSÓIS\" },\r\n    { color: \"#783809\", title: \"AEROSSÓIS\" },\r\n  ];\r\n\r\n  const titlesTwo = [\r\n    { color: \"#BCBE44\", title: \"PEWS\" },\r\n    { color: \"#8F00FF\", title: \"AGENDADO\" },\r\n    { title: `Páginas: ${page}/${totalPage}` },\r\n    { color: \"#52FF00\", title: \"OK\" },\r\n    { color: \"#F0303F\", title: \"PENDENTE\" },\r\n    { color: \"#FF7100\", title: \"APRAZ. PENDENTE \" },\r\n  ];\r\n\r\n  // colors config\r\n  const SAE = [\r\n    { status: \"V\", color: \"#52FF00\" },\r\n    { status: \"F\", color: \"#F0303F\" },\r\n    { status: \"L\", color: \"#F0303F\" },\r\n  ];\r\n\r\n  const PM = [\r\n    { status: \"S\", color: \"#52FF00\" },\r\n    { status: \"V\", color: \"#FF7100\" },\r\n    { status: \"N\", color: \"#FF7100\" },\r\n  ];\r\n\r\n  const ISOLATION = [\r\n    { status: \"CONTATO + AEROSSOL\", color: \"#72592F\" },\r\n    { status: \"CONTATO + GOTÍCULA\", color: \"#2EA7FF\" },\r\n    { status: \"CONTATO\", color: \"#FFF50B\" },\r\n    { status: \"AEROSSOL\", color: \"#783809\" },\r\n    { status: \"GOTÍCULA\", color: \"#00318F\" },\r\n  ];\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <main className=\"min-h-screen w-full flex flex-col justify-center\">\r\n      <Helmet>\r\n        <title>CMDC | Internações</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Dashboard relacionado as internações de pacientes.\"\r\n        />\r\n      </Helmet>\r\n      <section className=\"px-5 flex-1 flex flex-col justify-center\">\r\n        <div className=\"flex flex-col w-full max-w-7xl mx-auto\">\r\n          <div className=\"relative mb-2\">\r\n            <h2 className=\"text-2xl text-white text-center font-semibold\">\r\n              PAINEL DE INTERNAÇÃO - {filter === \"-\" ? \"GERAL\" : filter}\r\n            </h2>\r\n            <Select\r\n              value={filter}\r\n              defaultValue=\"GERAL\"\r\n              setValue={(value) => {\r\n                setPage(1);\r\n                setFilter(value);\r\n              }}\r\n              options={unities}\r\n              className=\"text-xs h-7 absolute top-0 right-0\"\r\n            />\r\n          </div>\r\n          <div className=\"sm:max-h-114 max-h-full sm:h-screen h-full flex flex-col gap-3\">\r\n            {\r\n              <VerifyInsert\r\n                display={hospitalizations.length}\r\n                message=\"Não há Internações no momento\"\r\n                className=\"text-lg whitespace-normal text-white mt-5\"\r\n              >\r\n                {transitionsInternations((style, internation) => {\r\n                  const saeColor = SAE.reduce((acc, { status, color }) => {\r\n                    return internation.SAE === status ? color : acc;\r\n                  }, \"transparent\");\r\n\r\n                  const pmColor = PM.reduce((acc, { status, color }) => {\r\n                    return internation.SAE === status ? color : acc;\r\n                  }, \"transparent\");\r\n\r\n                  const isolationColor = ISOLATION.reduce(\r\n                    (acc, { status, color }) => {\r\n                      return internation.ISOLAMENTO === status ? color : acc;\r\n                    },\r\n                    \"transparent\"\r\n                  );\r\n\r\n                  let labAlert = internation.QTD_LAB_RESULTADO >= 1;\r\n                  let imgAlert = internation.RESULTADO_IMAGEM >= 1;\r\n                  let procAlert = internation.PRODT >= 1;\r\n\r\n                  setTimeout(() => {\r\n                    const lab = document.getElementById(\r\n                      \"lab -\" + internation.CD_ATENDIMENTO\r\n                    );\r\n                    const img = document.getElementById(\r\n                      \"img -\" + internation.CD_ATENDIMENTO\r\n                    );\r\n                    const proc = document.getElementById(\r\n                      \"proc -\" + internation.CD_ATENDIMENTO\r\n                    );\r\n\r\n                    if (!!lab) {\r\n                      lab.classList.remove(\"animate-pulse-plus\");\r\n                    }\r\n\r\n                    if (!!img) {\r\n                      img.classList.remove(\"animate-pulse-plus\");\r\n                    }\r\n\r\n                    if (!!proc) {\r\n                      proc.classList.remove(\"animate-pulse-plus\");\r\n                    }\r\n                  }, 10000);\r\n\r\n                  return (\r\n                    <animated.div style={style}>\r\n                      <InternationPanelCard\r\n                        data={{\r\n                          attendance: internation.CD_ATENDIMENTO,\r\n                          bed: internation.DS_LEITO,\r\n                          name: limitName(internation.NM_PACIENTE, 3),\r\n                          birthDate: format(\r\n                            parseISO(internation.DT_NASCIMENTO),\r\n                            \"dd/MM/yyyy\"\r\n                          ),\r\n                          years: internation.IDADE,\r\n                          weight: internation.PESO,\r\n                          dispositive: internation.DISPOSITIVO,\r\n                          diet: internation.DIETA,\r\n                          especialty: internation.ESPECIALIDADE,\r\n                          curatives: internation.CURATIVO ? \"SIM\" : \"NÃO\",\r\n                          pattern: internation.NAO_PADRONIZADO,\r\n                        }}\r\n                        bgColor={\r\n                          internation.DT_ALTA_MEDICA ? \"#000000\" : \"#1D2026\"\r\n                        }\r\n                        alert={false}\r\n                        isolation={{\r\n                          color: isolationColor,\r\n                          text: internation.ISOLAMENTO,\r\n                        }}\r\n                        alergy={{\r\n                          color: \"#F0303F\",\r\n                          text: internation.ALERGIA,\r\n                        }}\r\n                        sae={{\r\n                          color: saeColor,\r\n                        }}\r\n                        pm={{ color: pmColor }}\r\n                        lab={{\r\n                          id: \"lab -\" + internation.CD_ATENDIMENTO,\r\n                          color:\r\n                            internation.QTD_LAB_RESULTADO >= 1\r\n                              ? \"#52FF00\"\r\n                              : \"#F0303F\",\r\n                          text: internation.QTD_EXAME_LAB,\r\n                          alert: labAlert,\r\n                        }}\r\n                        xray={{\r\n                          id: \"img -\" + internation.CD_ATENDIMENTO,\r\n                          color:\r\n                            internation.RESULTADO_IMAGEM >= 1\r\n                              ? \"#52FF00\"\r\n                              : \"#F0303F\",\r\n                          text: internation.QTD_EX_IMAG,\r\n                          alert: imgAlert,\r\n                        }}\r\n                        proc={{\r\n                          id: \"proc -\" + internation.CD_ATENDIMENTO,\r\n                          color:\r\n                            internation.PRODT === internation.PROCEDIMENTO\r\n                              ? \"#52FF00\"\r\n                              : \"#8F00FF\",\r\n                          text: internation.PROCEDIMENTO,\r\n                          alert: procAlert,\r\n                        }}\r\n                        pews={{\r\n                          quantity: internation.PEWS,\r\n                          date: internation.DTPEWS,\r\n                          alert: internation.PEWS >= 3,\r\n                          color: internation.PEWS >= 3 ? \"#BCBE44\" : \"#FFF\",\r\n                        }}\r\n                        color={page % 2 === 0 ? \"#75BDFF\" : \"#0E8BFF\"}\r\n                        className=\"sm:h-24 h-full w-full\"\r\n                      />\r\n                    </animated.div>\r\n                  );\r\n                })}\r\n              </VerifyInsert>\r\n            }\r\n          </div>\r\n          <div className=\"flex justify-between flex-wrap gap-2 w-full mt-1 rounded-lg\">\r\n            <div className=\"flex items-center bg-blackCMDC bg-opacity-50 rounded-lg divide-x-1 divide-gray-800 px-4\">\r\n              <h4 className=\"text-sm text-white mr-2\">Isolamento</h4>\r\n              <AsideInformations\r\n                data={titlesOne}\r\n                labelClass=\"grid grid-cols-3 text-xsm\"\r\n                className=\"w-full\"\r\n              />\r\n            </div>\r\n            <div className=\"bg-blackCMDC bg-opacity-50 rounded-lg px-4\">\r\n              <AsideInformations\r\n                data={titlesTwo}\r\n                labelClass=\"grid grid-cols-3 text-xsm\"\r\n                className=\"w-full\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <TascomFooter />\r\n      {error && <Error message={error} />}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default SNDOne;\r\n"]},"metadata":{},"sourceType":"module"}