{"ast":null,"code":"import _slicedToArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Bar,XAxis,YAxis,CartesianGrid,Legend,ResponsiveContainer,Line,ComposedChart,LabelList}from\"recharts\";import useUtilities from\"../../service/useUtilities\";import{ToolTip}from\"../\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ComposedBarGraphic(_ref){var data=_ref.data,className=_ref.className,config=_ref.config,title=_ref.title,toolTipConfig=_ref.toolTipConfig;var _useUtilities=useUtilities(),getFontSize=_useUtilities.getFontSize,getLimit=_useUtilities.getLimit;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),tooltip=_React$useState2[0],setToolTip=_React$useState2[1];var bar=config===null||config===void 0?void 0:config.bars.map(function(bar,i){return/*#__PURE__*/_jsx(Bar,{dataKey:bar.key,stackId:\"stack\",fill:\"url(\".concat(bar.key===\"agendado\"?\"#colorOne\":\"#colorTwo\",\")\"),radius:0.3*getFontSize(),maxBarSize:3.5*getFontSize(),children:/*#__PURE__*/_jsx(LabelList,{dataKey:bar.key,position:\"center\",fill:\"#fff\",fontSize:\".5rem\"})},bar.key);});var lines=config.lines.map(function(line){return/*#__PURE__*/_jsx(Line,{dataKey:line.key,strokeWidth:\".15rem\",type:\"monotone\",stroke:line.color,dot:true,label:{position:\"top\",fill:\"#fb1\",fontSize:\".5rem\"}},line.key);});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blackCMDC rounded-lg flex flex-col px-2 pt-2 \".concat(className),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font-semibold text-white mb-2 z-50 relative\",children:[/*#__PURE__*/_jsx(\"span\",{onMouseOver:function onMouseOver(){return setToolTip(true);},onMouseLeave:function onMouseLeave(){return setToolTip(false);},children:title}),/*#__PURE__*/_jsx(ToolTip,{title:toolTipConfig&&toolTipConfig.title,display:toolTipConfig&&tooltip,desc:toolTipConfig&&toolTipConfig.desc})]}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(ComposedChart,{width:500,height:300,data:data,margin:{top:-10,right:5,left:-55,bottom:0.2*getFontSize()},children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorOne\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#3FA500\",stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#3d3d3f\",stopOpacity:0})]})}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorTwo\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#38A3D5\",stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#38A3D5\",stopOpacity:0.13})]})}),/*#__PURE__*/_jsx(CartesianGrid,{stroke:\"#233767\",strokeDasharray:\"2\",vertical:false,label:true}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"dia\",tick:{fontSize:\".6rem\",fill:\"white\"},interval:0}),/*#__PURE__*/_jsx(YAxis,{domain:[0,getLimit(data)],interval:0,tickCount:5,tick:{fontSize:\".6rem\",fill:\"white\"},opacity:0}),/*#__PURE__*/_jsx(Legend,{iconType:\"square\",payload:config.legends.map(function(legend){return{type:\"square\",value:/*#__PURE__*/_jsx(\"span\",{className:\"text-xsm font-Montserrat text-white mr-1\",children:legend.title}),color:legend.color};}),layout:\"horizontal\",verticalAlign:\"top\",align:\"right\",iconSize:\".5rem\",wrapperStyle:{marginTop:-20}}),bar,lines]})})]});}export default ComposedBarGraphic;","map":{"version":3,"sources":["/command-center/src/components/ComposedBarGraphic/ComposedBarGraphic.jsx"],"names":["React","Bar","XAxis","YAxis","CartesianGrid","Legend","ResponsiveContainer","Line","ComposedChart","LabelList","useUtilities","ToolTip","ComposedBarGraphic","data","className","config","title","toolTipConfig","getFontSize","getLimit","useState","tooltip","setToolTip","bar","bars","map","i","key","lines","line","color","position","fill","fontSize","desc","top","right","left","bottom","legends","legend","type","value","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  Line,\r\n  ComposedChart,\r\n  LabelList,\r\n} from \"recharts\";\r\nimport useUtilities from \"../../service/useUtilities\";\r\nimport { ToolTip } from \"../\";\r\n\r\nfunction ComposedBarGraphic({ data, className, config, title, toolTipConfig }) {\r\n  const { getFontSize, getLimit } = useUtilities();\r\n  const [tooltip, setToolTip] = React.useState(false);\r\n\r\n  const bar = config?.bars.map((bar, i) => {\r\n    return (\r\n      <Bar\r\n        key={bar.key}\r\n        dataKey={bar.key}\r\n        stackId=\"stack\"\r\n        fill={`url(${bar.key === \"agendado\" ? \"#colorOne\" : \"#colorTwo\"})`}\r\n        radius={0.3 * getFontSize()}\r\n        maxBarSize={3.5 * getFontSize()}\r\n      >\r\n        <LabelList\r\n          dataKey={bar.key}\r\n          position=\"center\"\r\n          fill=\"#fff\"\r\n          fontSize=\".5rem\"\r\n        />\r\n      </Bar>\r\n    );\r\n  });\r\n\r\n  const lines = config.lines.map((line) => {\r\n    return (\r\n      <Line\r\n        key={line.key}\r\n        dataKey={line.key}\r\n        strokeWidth=\".15rem\"\r\n        type=\"monotone\"\r\n        stroke={line.color}\r\n        dot={true}\r\n        label={{ position: \"top\", fill: \"#fb1\", fontSize: \".5rem\" }}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={`bg-blackCMDC rounded-lg flex flex-col px-2 pt-2 ${className}`}\r\n    >\r\n      <h2 className=\"font-semibold text-white mb-2 z-50 relative\">\r\n        <span\r\n          onMouseOver={() => setToolTip(true)}\r\n          onMouseLeave={() => setToolTip(false)}\r\n        >\r\n          {title}\r\n        </span>\r\n        <ToolTip\r\n          title={toolTipConfig && toolTipConfig.title}\r\n          display={toolTipConfig && tooltip}\r\n          desc={toolTipConfig && toolTipConfig.desc}\r\n        />\r\n      </h2>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <ComposedChart\r\n          width={500}\r\n          height={300}\r\n          data={data}\r\n          margin={{\r\n            top: -10,\r\n            right: 5,\r\n            left: -55,\r\n            bottom: 0.2 * getFontSize(),\r\n          }}\r\n        >\r\n          <defs>\r\n            <linearGradient id=\"colorOne\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor=\"#3FA500\" stopOpacity={0.8} />\r\n              <stop offset=\"95%\" stopColor=\"#3d3d3f\" stopOpacity={0} />\r\n            </linearGradient>\r\n          </defs>\r\n          <defs>\r\n            <linearGradient id=\"colorTwo\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor=\"#38A3D5\" stopOpacity={0.8} />\r\n              <stop offset=\"95%\" stopColor=\"#38A3D5\" stopOpacity={0.13} />\r\n            </linearGradient>\r\n          </defs>\r\n          <CartesianGrid\r\n            stroke=\"#233767\"\r\n            strokeDasharray=\"2\"\r\n            vertical={false}\r\n            label\r\n          />\r\n          <XAxis\r\n            dataKey=\"dia\"\r\n            tick={{ fontSize: \".6rem\", fill: \"white\" }}\r\n            interval={0}\r\n          />\r\n          <YAxis\r\n            domain={[0, getLimit(data)]}\r\n            interval={0}\r\n            tickCount={5}\r\n            tick={{ fontSize: \".6rem\", fill: \"white\" }}\r\n            opacity={0}\r\n          />\r\n          <Legend\r\n            iconType=\"square\"\r\n            payload={config.legends.map((legend) => ({\r\n              type: \"square\",\r\n              value: (\r\n                <span className=\"text-xsm font-Montserrat text-white mr-1\">\r\n                  {legend.title}\r\n                </span>\r\n              ),\r\n              color: legend.color,\r\n            }))}\r\n            layout=\"horizontal\"\r\n            verticalAlign=\"top\"\r\n            align=\"right\"\r\n            iconSize=\".5rem\"\r\n            wrapperStyle={{\r\n              marginTop: -20,\r\n            }}\r\n          />\r\n          {bar}\r\n          {lines}\r\n        </ComposedChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ComposedBarGraphic;\r\n"]},"metadata":{},"sourceType":"module"}