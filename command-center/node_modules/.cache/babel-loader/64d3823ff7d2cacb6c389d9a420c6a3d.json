{"ast":null,"code":"import _asyncToGenerator from\"/command-center/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/command-center/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{Helmet}from\"react-helmet\";import{AsideInformations,TascomFooter,OneHundredRoomCard,VerifyInsert}from\"../../components\";import{Loading,Error}from\"../../helper\";import{useTransition,animated,config}from\"react-spring\";import useSND from\"../../service/useSND\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OneHundredRoom=function OneHundredRoom(){var intervalPagination=30000;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var _useSND=useSND(),getRooms=_useSND.getRooms;// Rooms\nvar refGetRooms=React.useRef(getRooms);var _React$useState5=React.useState(1),_React$useState6=_slicedToArray(_React$useState5,2),page=_React$useState6[0],setPage=_React$useState6[1];var _React$useState7=React.useState(),_React$useState8=_slicedToArray(_React$useState7,2),roomsOneHundred=_React$useState8[0],setRoomsOneHundred=_React$useState8[1];React.useEffect(function(){function executeRequest(){return _executeRequest.apply(this,arguments);}function _executeRequest(){_executeRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$refGetRooms$cu,rooms,totalPage;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return refGetRooms.current(page,16);case 3:_yield$refGetRooms$cu=_context.sent;rooms=_yield$refGetRooms$cu.rooms;totalPage=_yield$refGetRooms$cu.totalPage;setError(false);if(page>totalPage){setPage(1);}else{setRoomsOneHundred(rooms);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,10,13,16]]);}));return _executeRequest.apply(this,arguments);}executeRequest();var interval=setInterval(function(){setPage(function(page){return page+1;});},intervalPagination);return function(){clearInterval(interval);};},[page]);// config\nvar titles=[{color:\"#5CFF59\",title:\"AGUARDANDO RESULTADO\"},{color:\"#F1FF55\",title:\"AGUARDANDO RESULTADO\"},{color:\"#FF4C4C\",title:\"AGUARDANDO PROCEDIMENTO\"},{title:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"30+\"}),\" MAIS DE 30 MINUTOS PARA A COLETA\"]})},{title:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"70+\"}),\" MAIS DE 70 MINUTOS PARA O RESULTADO\"]})}];var transitionsRooms=useTransition(roomsOneHundred?roomsOneHundred:[],{from:{opacity:0,y:-10},enter:{opacity:1,y:0},leave:{display:\"none\"},trail:100,delay:50,config:config.gentle});if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"main\",{className:\"min-h-screen w-full flex flex-col\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"CMDC | Sala 100\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Dashboard de Sala 100\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"px-5 flex-1 flex flex-col justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 w-full max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl text-white text-center flex-1 font-bold\",children:\"Painel Sala 100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:max-h-115 max-h-full sm:h-screen h-full grid sm:grid-cols-2 grid-cols-1 content-start gap-2\",children:/*#__PURE__*/_jsx(VerifyInsert,{display:!!roomsOneHundred,message:\"N\\xE3o h\\xE1 pacientes no momento\",className:\"col-span-2 row-start-5 text-lg whitespace-normal text-white\",children:transitionsRooms(function(style,room){return/*#__PURE__*/_jsx(animated.div,{style:style,children:/*#__PURE__*/_jsx(OneHundredRoomCard,{data:{attendance:room.CD_ATENDIMENTO,name:room.NM_PACIENTE,time:room.PRESCRICAO_HORARIO},alert:!!room.PISCA_VERMELHO,drugs:{color:room.COR_MEDICAMENTO},xray:{color:room.COR_IMAGEM},lab:{color:room.COR_LABORATORIO,text:room.LABORATORIO_TEMPO,alert:room.LABORATORIO_TEMPO?Number.parseInt(room.LABORATORIO_TEMPO.replace(\"+\",\"\"))>=70:false},className:\"py-3\"})});})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative sm:block flex flex-col\",children:[/*#__PURE__*/_jsx(AsideInformations,{data:titles,labelClass:\"justify-center flex-wrap flex-row\",className:\"relative z-10 max-w-4xl m-auto text-xs\"}),/*#__PURE__*/_jsx(TascomFooter,{className:\"sm:absolute relative bottom-0 left-0\"})]}),error&&/*#__PURE__*/_jsx(Error,{message:error})]});};export default OneHundredRoom;","map":{"version":3,"sources":["/command-center/src/pages/OneHundredRoom/OneHundredRoom.jsx"],"names":["React","Helmet","AsideInformations","TascomFooter","OneHundredRoomCard","VerifyInsert","Loading","Error","useTransition","animated","config","useSND","OneHundredRoom","intervalPagination","useState","loading","setLoading","error","setError","getRooms","refGetRooms","useRef","page","setPage","roomsOneHundred","setRoomsOneHundred","useEffect","executeRequest","current","rooms","totalPage","message","interval","setInterval","clearInterval","titles","color","title","transitionsRooms","from","opacity","y","enter","leave","display","trail","delay","gentle","style","room","attendance","CD_ATENDIMENTO","name","NM_PACIENTE","time","PRESCRICAO_HORARIO","PISCA_VERMELHO","COR_MEDICAMENTO","COR_IMAGEM","COR_LABORATORIO","text","LABORATORIO_TEMPO","alert","Number","parseInt","replace"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport {\r\n  AsideInformations,\r\n  TascomFooter,\r\n  OneHundredRoomCard,\r\n  VerifyInsert,\r\n} from \"../../components\";\r\nimport { Loading, Error } from \"../../helper\";\r\nimport { useTransition, animated, config } from \"react-spring\";\r\nimport useSND from \"../../service/useSND\";\r\n\r\nconst OneHundredRoom = () => {\r\n  const intervalPagination = 30000;\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setError] = React.useState(false);\r\n\r\n  const { getRooms } = useSND();\r\n\r\n  // Rooms\r\n  const refGetRooms = React.useRef(getRooms);\r\n  const [page, setPage] = React.useState(1);\r\n  const [roomsOneHundred, setRoomsOneHundred] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    async function executeRequest() {\r\n      try {\r\n        const { rooms, totalPage } = await refGetRooms.current(page, 16);\r\n        setError(false);\r\n        if (page > totalPage) {\r\n          setPage(1);\r\n        } else {\r\n          setRoomsOneHundred(rooms);\r\n        }\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    executeRequest();\r\n    const interval = setInterval(() => {\r\n      setPage((page) => page + 1);\r\n    }, intervalPagination);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [page]);\r\n\r\n  // config\r\n\r\n  const titles = [\r\n    {\r\n      color: \"#5CFF59\",\r\n      title: \"AGUARDANDO RESULTADO\",\r\n    },\r\n    {\r\n      color: \"#F1FF55\",\r\n      title: \"AGUARDANDO RESULTADO\",\r\n    },\r\n    {\r\n      color: \"#FF4C4C\",\r\n      title: \"AGUARDANDO PROCEDIMENTO\",\r\n    },\r\n    {\r\n      title: (\r\n        <span>\r\n          <span className=\"font-bold\">30+</span> MAIS DE 30 MINUTOS PARA A\r\n          COLETA\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      title: (\r\n        <span>\r\n          <span className=\"font-bold\">70+</span> MAIS DE 70 MINUTOS PARA O\r\n          RESULTADO\r\n        </span>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const transitionsRooms = useTransition(\r\n    roomsOneHundred ? roomsOneHundred : [],\r\n    {\r\n      from: { opacity: 0, y: -10 },\r\n      enter: { opacity: 1, y: 0 },\r\n      leave: { display: \"none\" },\r\n      trail: 100,\r\n      delay: 50,\r\n      config: config.gentle,\r\n    }\r\n  );\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <main className=\"min-h-screen w-full flex flex-col\">\r\n      <Helmet>\r\n        <title>CMDC | Sala 100</title>\r\n        <meta name=\"description\" content=\"Dashboard de Sala 100\" />\r\n      </Helmet>\r\n      <section className=\"px-5 flex-1 flex flex-col justify-center\">\r\n        <div className=\"flex flex-col gap-2 w-full max-w-7xl mx-auto\">\r\n          <h1 className=\"text-2xl text-white text-center flex-1 font-bold\">\r\n            Painel Sala 100\r\n          </h1>\r\n          <div className=\"sm:max-h-115 max-h-full sm:h-screen h-full grid sm:grid-cols-2 grid-cols-1 content-start gap-2\">\r\n            {\r\n              <VerifyInsert\r\n                display={!!roomsOneHundred}\r\n                message=\"Não há pacientes no momento\"\r\n                className=\"col-span-2 row-start-5 text-lg whitespace-normal text-white\"\r\n              >\r\n                {transitionsRooms((style, room) => (\r\n                  <animated.div style={style}>\r\n                    <OneHundredRoomCard\r\n                      data={{\r\n                        attendance: room.CD_ATENDIMENTO,\r\n                        name: room.NM_PACIENTE,\r\n                        time: room.PRESCRICAO_HORARIO,\r\n                      }}\r\n                      alert={!!room.PISCA_VERMELHO}\r\n                      drugs={{ color: room.COR_MEDICAMENTO }}\r\n                      xray={{ color: room.COR_IMAGEM }}\r\n                      lab={{\r\n                        color: room.COR_LABORATORIO,\r\n                        text: room.LABORATORIO_TEMPO,\r\n                        alert: room.LABORATORIO_TEMPO\r\n                          ? Number.parseInt(\r\n                              room.LABORATORIO_TEMPO.replace(\"+\", \"\")\r\n                            ) >= 70\r\n                          : false,\r\n                      }}\r\n                      className=\"py-3\"\r\n                    />\r\n                  </animated.div>\r\n                ))}\r\n              </VerifyInsert>\r\n            }\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <div className=\"relative sm:block flex flex-col\">\r\n        <AsideInformations\r\n          data={titles}\r\n          labelClass=\"justify-center flex-wrap flex-row\"\r\n          className=\"relative z-10 max-w-4xl m-auto text-xs\"\r\n        />\r\n        <TascomFooter className=\"sm:absolute relative bottom-0 left-0\" />\r\n      </div>\r\n      {error && <Error message={error} />}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default OneHundredRoom;\r\n"]},"metadata":{},"sourceType":"module"}