{"ast":null,"code":"import _asyncToGenerator from\"/command-center/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/command-center/node_modules/@babel/runtime/regenerator/index.js\";import{axios}from\"./api\";function useUnitBeds(){function getUnitBeds(_x,_x2,_x3){return _getUnitBeds.apply(this,arguments);}function _getUnitBeds(){_getUnitBeds=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(unit,page,limit){var response,json,unitBeds,totPages;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"occupancy_per_unit?unit=\".concat(unit,\"&page=\").concat(page,\"&limitItens=\").concat(limit));case 3:response=_context.sent;json=response.data;unitBeds=json.beds[0]?json.beds[0].result:[];totPages=json.beds[0]?json.beds[0].totalPage:0;return _context.abrupt(\"return\",{unitBeds:unitBeds,totPages:totPages});case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);throw new Error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _getUnitBeds.apply(this,arguments);}return{getUnitBeds:getUnitBeds};}export default useUnitBeds;","map":{"version":3,"sources":["/command-center/src/service/useUnitBeds.js"],"names":["axios","useUnitBeds","getUnitBeds","unit","page","limit","get","response","json","data","unitBeds","beds","result","totPages","totalPage","Error","message"],"mappings":"6MAAA,OAASA,KAAT,KAAsB,OAAtB,CAEA,QAASC,CAAAA,WAAT,EAAuB,SACNC,CAAAA,WADM,qJACrB,iBAA2BC,IAA3B,CAAiCC,IAAjC,CAAuCC,KAAvC,4LAE2BL,CAAAA,KAAK,CAACM,GAAN,mCACMH,IADN,kBACmBC,IADnB,wBACsCC,KADtC,EAF3B,QAEUE,QAFV,eAKUC,IALV,CAKiBD,QAAQ,CAACE,IAL1B,CAMUC,QANV,CAMqBF,IAAI,CAACG,IAAL,CAAU,CAAV,EAAeH,IAAI,CAACG,IAAL,CAAU,CAAV,EAAaC,MAA5B,CAAqC,EAN1D,CAOUC,QAPV,CAOqBL,IAAI,CAACG,IAAL,CAAU,CAAV,EAAeH,IAAI,CAACG,IAAL,CAAU,CAAV,EAAaG,SAA5B,CAAwC,CAP7D,iCASW,CACLJ,QAAQ,CAARA,QADK,CAELG,QAAQ,CAARA,QAFK,CATX,iEAcU,IAAIE,CAAAA,KAAJ,CAAU,YAAMC,OAAhB,CAdV,sEADqB,8CAmBrB,MAAO,CACLd,WAAW,CAAXA,WADK,CAAP,CAGD,CAED,cAAeD,CAAAA,WAAf","sourcesContent":["import { axios } from \"./api\";\r\n\r\nfunction useUnitBeds() {\r\n  async function getUnitBeds(unit, page, limit) {\r\n    try {\r\n      const response = await axios.get(\r\n        `occupancy_per_unit?unit=${unit}&page=${page}&limitItens=${limit}`\r\n      );\r\n      const json = response.data;\r\n      const unitBeds = json.beds[0] ? json.beds[0].result : [];\r\n      const totPages = json.beds[0] ? json.beds[0].totalPage : 0;\r\n\r\n      return {\r\n        unitBeds,\r\n        totPages,\r\n      };\r\n    } catch (error) {\r\n      throw new Error(error.message);\r\n    }\r\n  }\r\n\r\n  return {\r\n    getUnitBeds,\r\n  };\r\n}\r\n\r\nexport default useUnitBeds;\r\n"]},"metadata":{},"sourceType":"module"}