{"ast":null,"code":"import _asyncToGenerator from\"/command-center/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/command-center/node_modules/@babel/runtime/regenerator/index.js\";import{axios}from\"./api\";function usePredictedHighs(){function getPredictedHighs(){return _getPredictedHighs.apply(this,arguments);}function _getPredictedHighs(){_getPredictedHighs=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json,responseTot,jsonTot;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"predicted_highs\");case 3:response=_context.sent;json=response.data.predicted_highs;_context.next=7;return axios.get(\"total_beds\");case 7:responseTot=_context.sent;jsonTot=responseTot.data.total_beds.filter(function(bed){return bed.CD_UNID_INT===\"TOTAL\";})[0];return _context.abrupt(\"return\",{medc:{dataOne:json[1].QTD_ALTAS_HOSPITALAR,dataTwo:json[0].QTD_ALTAS_HOSPITALAR},pMedc:{data:json[2].QTD_ALTAS_HOSPITALAR},totOcupation:{dataOne:jsonTot.LEITOS_OCUPADOS-json[3].QTD_ALTAS_HOSPITALAR+json[5].QTD_ALTAS_HOSPITALAR,dataTwo:jsonTot.LEITOS_INSTALADOS}});case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);throw new Error(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _getPredictedHighs.apply(this,arguments);}return{getPredictedHighs:getPredictedHighs};}export default usePredictedHighs;","map":{"version":3,"sources":["/command-center/src/service/usePredictedHighs.js"],"names":["axios","usePredictedHighs","getPredictedHighs","get","response","json","data","predicted_highs","responseTot","jsonTot","total_beds","filter","bed","CD_UNID_INT","medc","dataOne","QTD_ALTAS_HOSPITALAR","dataTwo","pMedc","totOcupation","LEITOS_OCUPADOS","LEITOS_INSTALADOS","Error","message"],"mappings":"6MAAA,OAASA,KAAT,KAAsB,OAAtB,CAEA,QAASC,CAAAA,iBAAT,EAA6B,SACZC,CAAAA,iBADY,6JAC3B,+MAE2BF,CAAAA,KAAK,CAACG,GAAN,CAAU,iBAAV,CAF3B,QAEUC,QAFV,eAGUC,IAHV,CAGiBD,QAAQ,CAACE,IAAT,CAAcC,eAH/B,uBAI8BP,CAAAA,KAAK,CAACG,GAAN,CAAU,YAAV,CAJ9B,QAIUK,WAJV,eAKUC,OALV,CAKoBD,WAAW,CAACF,IAAZ,CAAiBI,UAAjB,CAA4BC,MAA5B,CACd,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,WAAJ,GAAoB,OAA7B,EADc,EAEd,CAFc,CALpB,iCASW,CACLC,IAAI,CAAE,CACJC,OAAO,CAAEV,IAAI,CAAC,CAAD,CAAJ,CAAQW,oBADb,CAEJC,OAAO,CAAEZ,IAAI,CAAC,CAAD,CAAJ,CAAQW,oBAFb,CADD,CAKLE,KAAK,CAAE,CACLZ,IAAI,CAAED,IAAI,CAAC,CAAD,CAAJ,CAAQW,oBADT,CALF,CAQLG,YAAY,CAAE,CACZJ,OAAO,CACLN,OAAO,CAACW,eAAR,CACAf,IAAI,CAAC,CAAD,CAAJ,CAAQW,oBADR,CAEAX,IAAI,CAAC,CAAD,CAAJ,CAAQW,oBAJE,CAKZC,OAAO,CAAER,OAAO,CAACY,iBALL,CART,CATX,iEA0BU,IAAIC,CAAAA,KAAJ,CAAU,YAAMC,OAAhB,CA1BV,sEAD2B,oDA+B3B,MAAO,CACLrB,iBAAiB,CAAjBA,iBADK,CAAP,CAGD,CAED,cAAeD,CAAAA,iBAAf","sourcesContent":["import { axios } from \"./api\";\r\n\r\nfunction usePredictedHighs() {\r\n  async function getPredictedHighs() {\r\n    try {\r\n      const response = await axios.get(\"predicted_highs\");\r\n      const json = response.data.predicted_highs;\r\n      const responseTot = await axios.get(\"total_beds\");\r\n      const jsonTot = responseTot.data.total_beds.filter(\r\n        (bed) => bed.CD_UNID_INT === \"TOTAL\"\r\n      )[0];\r\n\r\n      return {\r\n        medc: {\r\n          dataOne: json[1].QTD_ALTAS_HOSPITALAR,\r\n          dataTwo: json[0].QTD_ALTAS_HOSPITALAR,\r\n        },\r\n        pMedc: {\r\n          data: json[2].QTD_ALTAS_HOSPITALAR,\r\n        },\r\n        totOcupation: {\r\n          dataOne:\r\n            jsonTot.LEITOS_OCUPADOS -\r\n            json[3].QTD_ALTAS_HOSPITALAR +\r\n            json[5].QTD_ALTAS_HOSPITALAR,\r\n          dataTwo: jsonTot.LEITOS_INSTALADOS,\r\n        },\r\n      };\r\n    } catch (error) {\r\n      throw new Error(error.message);\r\n    }\r\n  }\r\n\r\n  return {\r\n    getPredictedHighs,\r\n  };\r\n}\r\n\r\nexport default usePredictedHighs;\r\n"]},"metadata":{},"sourceType":"module"}