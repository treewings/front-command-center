{"ast":null,"code":"import _toConsumableArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{ResponsiveContainer,LineChart,Line,CartesianGrid,XAxis,YAxis,Legend}from\"recharts\";import CountUp from\"react-countup\";import{ToolTip}from\"../\";import useUtilities from\"../../service/useUtilities\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LineGraphic(_ref){var data=_ref.data,value=_ref.value,className=_ref.className,config=_ref.config,xKey=_ref.xKey,title=_ref.title,chartPosition=_ref.chartPosition,legendPosition=_ref.legendPosition,_ref$legendLayout=_ref.legendLayout,legendLayout=_ref$legendLayout===void 0?\"vertical\":_ref$legendLayout,toolTipConfig=_ref.toolTipConfig,_ref$animation=_ref.animation,animation=_ref$animation===void 0?true:_ref$animation;var _useUtilities=useUtilities(),getFontSize=_useUtilities.getFontSize;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),tooltip=_React$useState2[0],setToolTip=_React$useState2[1];function getLimit(array){if(!!array){var values=array.map(function(value){return Object.values(value);});var flatValues=values.reduce(function(acc,sub){return acc.concat(sub);},[]);var filtered=flatValues.filter(function(value){return typeof value===\"number\";});return Math.max.apply(Math,_toConsumableArray(filtered))+5;}else{return 0;}}var lines=config.map(function(value){return/*#__PURE__*/_jsx(Line,{dataKey:value.key,strokeWidth:\".15rem\",type:\"monotone\",stroke:value.color,label:{fill:\"#fff\",position:\"top\",fontSize:\".55rem\"},dot:{strokeWidth:\"0.3rem\",r:0.1*getFontSize()},isAnimationActive:animation},value.key);});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blackCMDC rounded-lg flex flex-col px-2 pt-2 \".concat(className),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font-semibold text-white relative\",children:[/*#__PURE__*/_jsx(\"span\",{onMouseOver:function onMouseOver(){return setToolTip(true);},onMouseLeave:function onMouseLeave(){return setToolTip(false);},children:title}),/*#__PURE__*/_jsx(ToolTip,{title:toolTipConfig&&toolTipConfig.title,display:toolTipConfig&&tooltip,desc:toolTipConfig&&toolTipConfig.desc})]}),value&&/*#__PURE__*/_jsx(\"span\",{className:\"text-center font-semibold text-white text-xl\",children:/*#__PURE__*/_jsx(CountUp,{end:value,duration:1})}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(LineChart,{width:500,height:200,data:data||[],margin:chartPosition||{},children:[/*#__PURE__*/_jsx(CartesianGrid,{stroke:\"#233767\",strokeDasharray:\"2\",vertical:false}),/*#__PURE__*/_jsx(XAxis,{dataKey:xKey||\"\",tick:{fontSize:\".5rem\",fill:\"white\"},interval:0}),/*#__PURE__*/_jsx(YAxis,{domain:[0,getLimit(data)],interval:0,tickCount:5,tick:{fontSize:\".6rem\",fill:\"white\"}}),lines,/*#__PURE__*/_jsx(Legend,{layout:legendLayout,payload:config.map(function(value){return{type:value.icon||\"square\",value:/*#__PURE__*/_jsx(\"span\",{className:\"font-Montserrat text-xsm text-white ml-1 text-center\",children:value.title}),color:\"\".concat(value.color)};}),verticalAlign:\"top\",iconSize:\".5rem\",align:\"right\",wrapperStyle:legendPosition||{}})]})})]});}export default LineGraphic;","map":{"version":3,"sources":["/command-center/src/components/LineGraphic/LineGraphic.jsx"],"names":["React","ResponsiveContainer","LineChart","Line","CartesianGrid","XAxis","YAxis","Legend","CountUp","ToolTip","useUtilities","LineGraphic","data","value","className","config","xKey","title","chartPosition","legendPosition","legendLayout","toolTipConfig","animation","getFontSize","useState","tooltip","setToolTip","getLimit","array","values","map","Object","flatValues","reduce","acc","sub","concat","filtered","filter","Math","max","lines","key","color","fill","position","fontSize","strokeWidth","r","desc","type","icon"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  ResponsiveContainer,\r\n  LineChart,\r\n  Line,\r\n  CartesianGrid,\r\n  XAxis,\r\n  YAxis,\r\n  Legend,\r\n} from \"recharts\";\r\nimport CountUp from \"react-countup\";\r\nimport { ToolTip } from \"../\";\r\nimport useUtilities from \"../../service/useUtilities\";\r\n\r\nfunction LineGraphic({\r\n  data,\r\n  value,\r\n  className,\r\n  config,\r\n  xKey,\r\n  title,\r\n  chartPosition,\r\n  legendPosition,\r\n  legendLayout = \"vertical\",\r\n  toolTipConfig,\r\n  animation = true,\r\n}) {\r\n  const { getFontSize } = useUtilities();\r\n  const [tooltip, setToolTip] = React.useState(false);\r\n\r\n  function getLimit(array) {\r\n    if (!!array) {\r\n      const values = array.map((value) => Object.values(value));\r\n      const flatValues = values.reduce((acc, sub) => acc.concat(sub), []);\r\n      const filtered = flatValues.filter((value) => typeof value === \"number\");\r\n      return Math.max(...filtered) + 5;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  const lines = config.map((value) => {\r\n    return (\r\n      <Line\r\n        key={value.key}\r\n        dataKey={value.key}\r\n        strokeWidth=\".15rem\"\r\n        type=\"monotone\"\r\n        stroke={value.color}\r\n        label={{ fill: \"#fff\", position: \"top\", fontSize: \".55rem\" }}\r\n        dot={{ strokeWidth: \"0.3rem\", r: 0.1 * getFontSize() }}\r\n        isAnimationActive={animation}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={`bg-blackCMDC rounded-lg flex flex-col px-2 pt-2 ${className}`}\r\n    >\r\n      <h2 className=\"font-semibold text-white relative\">\r\n        <span\r\n          onMouseOver={() => setToolTip(true)}\r\n          onMouseLeave={() => setToolTip(false)}\r\n        >\r\n          {title}\r\n        </span>\r\n        <ToolTip\r\n          title={toolTipConfig && toolTipConfig.title}\r\n          display={toolTipConfig && tooltip}\r\n          desc={toolTipConfig && toolTipConfig.desc}\r\n        />\r\n      </h2>\r\n      {value && (\r\n        <span className=\"text-center font-semibold text-white text-xl\">\r\n          <CountUp end={value} duration={1} />\r\n        </span>\r\n      )}\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <LineChart\r\n          width={500}\r\n          height={200}\r\n          data={data || []}\r\n          margin={chartPosition || {}}\r\n        >\r\n          <CartesianGrid\r\n            stroke=\"#233767\"\r\n            strokeDasharray=\"2\"\r\n            vertical={false}\r\n          />\r\n          <XAxis\r\n            dataKey={xKey || \"\"}\r\n            tick={{ fontSize: \".5rem\", fill: \"white\" }}\r\n            interval={0}\r\n          />\r\n          <YAxis\r\n            domain={[0, getLimit(data)]}\r\n            interval={0}\r\n            tickCount={5}\r\n            tick={{ fontSize: \".6rem\", fill: \"white\" }}\r\n          />\r\n          {lines}\r\n          <Legend\r\n            layout={legendLayout}\r\n            payload={config.map((value) => ({\r\n              type: value.icon || \"square\",\r\n              value: (\r\n                <span className=\"font-Montserrat text-xsm text-white ml-1 text-center\">\r\n                  {value.title}\r\n                </span>\r\n              ),\r\n              color: `${value.color}`,\r\n            }))}\r\n            verticalAlign=\"top\"\r\n            iconSize=\".5rem\"\r\n            align=\"right\"\r\n            wrapperStyle={legendPosition || {}}\r\n          />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LineGraphic;\r\n"]},"metadata":{},"sourceType":"module"}