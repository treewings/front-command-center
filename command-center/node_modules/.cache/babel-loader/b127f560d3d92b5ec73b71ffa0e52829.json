{"ast":null,"code":"import _toConsumableArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{AreaChart,Area,ResponsiveContainer,YAxis,XAxis,Legend}from\"recharts\";import useUtilities from\"../../service/useUtilities\";import{ToolTip}from\"../\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AreaGraphic(_ref){var _config$areas,_config$areas2;var data=_ref.data,totalValue=_ref.totalValue,className=_ref.className,config=_ref.config,xKey=_ref.xKey,title=_ref.title,icon=_ref.icon,chartPosition=_ref.chartPosition,legendPosition=_ref.legendPosition,toolTipConfig=_ref.toolTipConfig;var _useUtilities=useUtilities(),getFontSize=_useUtilities.getFontSize;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),tooltip=_React$useState2[0],setToolTip=_React$useState2[1];function getLimit(array){if(!!array){var values=array.map(function(value){return Object.values(value);});var flatValues=values.reduce(function(acc,sub){return acc.concat(sub);},[]);var filtered=flatValues.filter(function(value){return typeof value===\"number\";});return Math.max.apply(Math,_toConsumableArray(filtered));}else{return 0;}}var areas=config&&((_config$areas=config.areas)===null||_config$areas===void 0?void 0:_config$areas.map(function(value,index){return/*#__PURE__*/_jsx(Area,{isAnimationActive:false,type:\"monotone\",dataKey:value.key,stroke:\"url(#line-\".concat(value.key,\")\"),strokeWidth:\"0.2rem\",fill:\"url(#bg-\".concat(value.key,\")\"),label:{fill:\"#fff\",position:\"top\",fontSize:\".7rem\"},dot:{strokeWidth:\"0.3rem\",r:0.1*getFontSize()}},value.key+\"-\"+index);}));var gradients=config&&((_config$areas2=config.areas)===null||_config$areas2===void 0?void 0:_config$areas2.map(function(value,i){return/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"bg-\".concat(value.key),x1:\"1\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:value.bgGradient.to,stopOpacity:0.5}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:value.bgGradient.from,stopOpacity:0.05})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"line-\".concat(value.key),x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:value.lineGradient.to,stopOpacity:0.9}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:value.lineGradient.from,stopOpacity:0.5})]})]},value.key+\"_\"+i);}));return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blackCMDC rounded-lg flex flex-col relative \".concat(className),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xs font-semibold text-white mt-2 ml-2 flex \".concat(icon?\"justify-between\":\"justify-center\",\" items-center relative\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"z-10\",onMouseOver:function onMouseOver(){return setToolTip(true);},onMouseLeave:function onMouseLeave(){return setToolTip(false);},children:title}),icon&&icon,/*#__PURE__*/_jsx(ToolTip,{title:toolTipConfig&&toolTipConfig.title,display:toolTipConfig&&tooltip,desc:toolTipConfig&&toolTipConfig.desc})]}),totalValue&&/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-bold text-2xl text-center flex justify-center\",children:totalValue}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(AreaChart,{data:data,margin:chartPosition||{},children:[gradients,areas,/*#__PURE__*/_jsx(YAxis,{opacity:0,domain:[0,getLimit(data)]}),/*#__PURE__*/_jsx(XAxis,{dataKey:xKey||\"\",tick:{fontSize:\".6rem\",fill:\"white\"},axisLine:false,tickLine:false,interval:0}),config.legends&&/*#__PURE__*/_jsx(Legend,{iconType:\"square\",payload:config.legends.map(function(legend){return{type:\"square\",value:/*#__PURE__*/_jsx(\"span\",{className:\"text-xsm font-Montserrat text-white\",children:legend.title}),color:legend.color};}),layout:\"horizontal\",verticalAlign:\"top\",align:\"right\",iconSize:\".5rem\",wrapperStyle:legendPosition||{}})]})})]});}export default AreaGraphic;","map":{"version":3,"sources":["/command-center/src/components/AreaGraphic/AreaGraphic.jsx"],"names":["React","AreaChart","Area","ResponsiveContainer","YAxis","XAxis","Legend","useUtilities","ToolTip","AreaGraphic","data","totalValue","className","config","xKey","title","icon","chartPosition","legendPosition","toolTipConfig","getFontSize","useState","tooltip","setToolTip","getLimit","array","values","map","value","Object","flatValues","reduce","acc","sub","concat","filtered","filter","Math","max","areas","index","key","fill","position","fontSize","strokeWidth","r","gradients","i","bgGradient","to","from","lineGradient","desc","legends","legend","type","color"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  ResponsiveContainer,\r\n  YAxis,\r\n  XAxis,\r\n  Legend,\r\n} from \"recharts\";\r\nimport useUtilities from \"../../service/useUtilities\";\r\nimport { ToolTip } from \"../\";\r\n\r\nfunction AreaGraphic({\r\n  data,\r\n  totalValue,\r\n  className,\r\n  config,\r\n  xKey,\r\n  title,\r\n  icon,\r\n  chartPosition,\r\n  legendPosition,\r\n  toolTipConfig,\r\n}) {\r\n  const { getFontSize } = useUtilities();\r\n  const [tooltip, setToolTip] = React.useState(false);\r\n\r\n  function getLimit(array) {\r\n    if (!!array) {\r\n      const values = array.map((value) => Object.values(value));\r\n      const flatValues = values.reduce((acc, sub) => acc.concat(sub), []);\r\n      const filtered = flatValues.filter((value) => typeof value === \"number\");\r\n      return Math.max(...filtered);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  const areas =\r\n    config &&\r\n    config.areas?.map((value, index) => {\r\n      return (\r\n        <Area\r\n          isAnimationActive={false}\r\n          key={value.key + \"-\" + index}\r\n          type=\"monotone\"\r\n          dataKey={value.key}\r\n          stroke={`url(#line-${value.key})`}\r\n          strokeWidth=\"0.2rem\"\r\n          fill={`url(#bg-${value.key})`}\r\n          label={{ fill: \"#fff\", position: \"top\", fontSize: \".7rem\" }}\r\n          dot={{ strokeWidth: \"0.3rem\", r: 0.1 * getFontSize() }}\r\n        />\r\n      );\r\n    });\r\n\r\n  const gradients =\r\n    config &&\r\n    config.areas?.map((value, i) => {\r\n      return (\r\n        <defs key={value.key + \"_\" + i}>\r\n          <linearGradient id={`bg-${value.key}`} x1=\"1\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n            <stop\r\n              offset=\"5%\"\r\n              stopColor={value.bgGradient.to}\r\n              stopOpacity={0.5}\r\n            />\r\n            <stop\r\n              offset=\"95%\"\r\n              stopColor={value.bgGradient.from}\r\n              stopOpacity={0.05}\r\n            />\r\n          </linearGradient>\r\n          <linearGradient id={`line-${value.key}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n            <stop\r\n              offset=\"5%\"\r\n              stopColor={value.lineGradient.to}\r\n              stopOpacity={0.9}\r\n            />\r\n            <stop\r\n              offset=\"95%\"\r\n              stopColor={value.lineGradient.from}\r\n              stopOpacity={0.5}\r\n            />\r\n          </linearGradient>\r\n        </defs>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div\r\n      className={`bg-blackCMDC rounded-lg flex flex-col relative ${className}`}\r\n    >\r\n      <h2\r\n        className={`text-xs font-semibold text-white mt-2 ml-2 flex ${\r\n          icon ? \"justify-between\" : \"justify-center\"\r\n        } items-center relative`}\r\n      >\r\n        <span\r\n          className=\"z-10\"\r\n          onMouseOver={() => setToolTip(true)}\r\n          onMouseLeave={() => setToolTip(false)}\r\n        >\r\n          {title}\r\n        </span>\r\n        {icon && icon}\r\n        <ToolTip\r\n          title={toolTipConfig && toolTipConfig.title}\r\n          display={toolTipConfig && tooltip}\r\n          desc={toolTipConfig && toolTipConfig.desc}\r\n        />\r\n      </h2>\r\n      {totalValue && (\r\n        <p className=\"text-white font-bold text-2xl text-center flex justify-center\">\r\n          {totalValue}\r\n        </p>\r\n      )}\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <AreaChart data={data} margin={chartPosition || {}}>\r\n          {gradients}\r\n          {areas}\r\n          <YAxis opacity={0} domain={[0, getLimit(data)]} />\r\n          <XAxis\r\n            dataKey={xKey || \"\"}\r\n            tick={{ fontSize: \".6rem\", fill: \"white\" }}\r\n            axisLine={false}\r\n            tickLine={false}\r\n            interval={0}\r\n          />\r\n          {config.legends && (\r\n            <Legend\r\n              iconType=\"square\"\r\n              payload={config.legends.map((legend) => ({\r\n                type: \"square\",\r\n                value: (\r\n                  <span className=\"text-xsm font-Montserrat text-white\">\r\n                    {legend.title}\r\n                  </span>\r\n                ),\r\n                color: legend.color,\r\n              }))}\r\n              layout=\"horizontal\"\r\n              verticalAlign=\"top\"\r\n              align=\"right\"\r\n              iconSize=\".5rem\"\r\n              wrapperStyle={legendPosition || {}}\r\n            />\r\n          )}\r\n        </AreaChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AreaGraphic;\r\n"]},"metadata":{},"sourceType":"module"}