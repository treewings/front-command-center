{"ast":null,"code":"import _asyncToGenerator from\"/command-center/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/command-center/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{Helmet}from\"react-helmet\";import{TascomFooter,RoundedCard,RectCard,AsideInformations,PSCard}from\"../../components\";import{Loading,Error}from\"../../helper\";import{ReactComponent as Clock}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/svg/Clock.svg\";import{ReactComponent as Check}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/svg/Check.svg\";import{ReactComponent as LabExam}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/svg/LabExam.svg\";import{ReactComponent as Skeleton}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/svg/Skeleton.svg\";import useFirstAidStation from\"../../service/useFirstAidStation\";import{useTransition,animated,config}from\"react-spring\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FirstAidStationTwo=function FirstAidStationTwo(){var timeInterval=5000;var intervalPagination=60000;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var _useFirstAidStation=useFirstAidStation(),getTotalBedsOccupied=_useFirstAidStation.getTotalBedsOccupied,getUnitiesValues=_useFirstAidStation.getUnitiesValues,getPatients=_useFirstAidStation.getPatients;//Total Beds Occupied\nvar refGetTotalBedsOccupied=React.useRef(getTotalBedsOccupied);var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),totalOccupied=_React$useState6[0],setTotalOccupied=_React$useState6[1];React.useEffect(function(){setLoading(true);function executeRequest(){return _executeRequest.apply(this,arguments);}function _executeRequest(){_executeRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$refGetTotalBed,bedsOcuppied;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return refGetTotalBedsOccupied.current();case 3:_yield$refGetTotalBed=_context.sent;bedsOcuppied=_yield$refGetTotalBed.bedsOcuppied;setTotalOccupied(bedsOcuppied);setError(false);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 12:_context.prev=12;setLoading(false);return _context.finish(12);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,9,12,15]]);}));return _executeRequest.apply(this,arguments);}executeRequest();var interval=setInterval(function(){executeRequest();},timeInterval);return function(){clearInterval(interval);};},[]);//Unities Values\nvar refGetUnitiesValues=React.useRef(getUnitiesValues);var _React$useState7=React.useState(),_React$useState8=_slicedToArray(_React$useState7,2),unitiesValues=_React$useState8[0],setUnitiesValues=_React$useState8[1];React.useEffect(function(){setLoading(true);function executeRequest(){return _executeRequest2.apply(this,arguments);}function _executeRequest2(){_executeRequest2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$refGetUnitiesV,unities;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return refGetUnitiesValues.current();case 3:_yield$refGetUnitiesV=_context2.sent;unities=_yield$refGetUnitiesV.unities;setUnitiesValues(unities);setError(false);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);setError(_context2.t0.message);case 12:_context2.prev=12;setLoading(false);return _context2.finish(12);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9,12,15]]);}));return _executeRequest2.apply(this,arguments);}executeRequest();var interval=setInterval(function(){executeRequest();},timeInterval);return function(){clearInterval(interval);};},[]);// Stock Listing Items\nvar refGetPatients=React.useRef(getPatients);var _React$useState9=React.useState(),_React$useState10=_slicedToArray(_React$useState9,2),patients=_React$useState10[0],setPatients=_React$useState10[1];var _React$useState11=React.useState(1),_React$useState12=_slicedToArray(_React$useState11,2),page=_React$useState12[0],setPage=_React$useState12[1];React.useEffect(function(){function executeRequest(){return _executeRequest3.apply(this,arguments);}function _executeRequest3(){_executeRequest3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _yield$refGetPatients,_patients,totalPage;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return refGetPatients.current(page,12);case 3:_yield$refGetPatients=_context3.sent;_patients=_yield$refGetPatients.patients;totalPage=_yield$refGetPatients.totalPage;setError(false);if(page>totalPage){setPage(1);}else{setPatients(_patients);}_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);setError(_context3.t0.message);case 13:_context3.prev=13;setLoading(false);return _context3.finish(13);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10,13,16]]);}));return _executeRequest3.apply(this,arguments);}executeRequest();var interval=setInterval(function(){setPage(function(page){return page+1;});},intervalPagination);return function(){return clearInterval(interval);};},[page]);// configs\nvar titles=[{icon:/*#__PURE__*/_jsx(Check,{className:\"w-4 h-4\",fill:\"#FF7A00\"}),title:\"SOLICITADO INTERNAÇÃO\"},{icon:/*#__PURE__*/_jsx(Check,{className:\"w-4 h-4\",fill:\"#76FF53\"}),title:\"SOLICITAÇÃO ATENDIDA\"},{icon:/*#__PURE__*/_jsx(LabExam,{className:\"w-4 h-4\",fill:\"#FFF\"}),title:\"EXAME LABORATORIAL \"},{icon:/*#__PURE__*/_jsx(Skeleton,{className:\"w-4 h-4\",fill:\"#FFF\"}),title:\"EXAME DE IMAGEM\"},{icon:/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4\",fill:\"#FFF\"}),title:\"HORAS DE INTERNAÇÃO\"}];var transitionsPatients=useTransition(patients?patients:[],{from:{opacity:0,y:-10},enter:{opacity:1,y:0},leave:{display:\"none\"},trail:100,delay:50,config:config.gentle});if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"main\",{className:\"min-h-screen w-full flex flex-col justify-center\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"CMDC | Pronto Socorro | Exames\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Dashboard com as informa\\xE7\\xF5es relacionadas ao pronto socorro.\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"px-5 flex-1 flex flex-col justify-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl text-white text-center mb-2 font-semibold\",children:\"Pronto Socorro\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:max-w-7xl mx-auto flex flex-col gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-5 grid-cols-1 gap-2 sm:justify-items-center\",children:[/*#__PURE__*/_jsx(RoundedCard,{data:totalOccupied,title:\"LEITOS OCUPADOS\",titleClass:\"font-normal sm:text-sm text-2sm w-25 mx-auto\",className:\"bg-opacity-50 h-48 w-full col-span-1\",roundedClass:\"w-42 h-42 text-3xl\",rounded:{type:\"gradient\",color:\"#A22BFF\",id:\"gdr-1\"},barSize:1}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:col-span-4 bg-blackCMDC bg-opacity-50 rounded-lg min-h-48 grid md:grid-cols-4 sm:grid-cols-2 grid-cols-1 gap-1 p-2 items-center w-full\",children:unitiesValues===null||unitiesValues===void 0?void 0:unitiesValues.map(function(_ref){var unit=_ref.unit,QTD=_ref.QTD;return/*#__PURE__*/_jsxs(RectCard,{color:\"#A22BFF\",className:\"flex justify-between px-5 sm:px-2 items-center h-32 border-l-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-xsm\",children:\"UNIDADE:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm\",children:unit})]}),/*#__PURE__*/_jsx(RoundedCard,{data:QTD,className:\"bg-opacity-0 h-28 w-28\",roundedClass:\"w-28 h-28 text-2xl\",rounded:{type:\"gradient\",color:\"#A22BFF\",id:\"gdr-1\"},barSize:0.6})]},unit);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blackCMDC bg-opacity-50 rounded-lg sm:h-96 min-h-56 grid sm:grid-cols-4 sm:grid-rows-3 grid-cols-2 grid-rows-6 gap-x-3 gap-y-1 sm:px-8 px-3 py-2 \",children:transitionsPatients(function(style,patient){return/*#__PURE__*/_jsx(animated.div,{style:style,children:/*#__PURE__*/_jsx(PSCard,{data:patient,color:patient.genre===\"MASC\"?\"#43FFFF\":\"#FF7BEA\",labIcon:patient.iconLab,rxIcon:patient.iconRX,checkIcon:patient.iconCheck},patient.name)});})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(TascomFooter,{className:\"absolute bottom-0 left-0\"}),/*#__PURE__*/_jsx(AsideInformations,{data:titles,labelClass:\"sm:justify-around justify-center sm:flex-row flex-col text-xsm\",className:\"max-w-3xl m-auto relative\"})]}),error&&/*#__PURE__*/_jsx(Error,{message:error})]});};export default FirstAidStationTwo;","map":{"version":3,"sources":["/command-center/src/pages/FirstAidStationTwo/FirstAidStationTwo.jsx"],"names":["React","Helmet","TascomFooter","RoundedCard","RectCard","AsideInformations","PSCard","Loading","Error","useFirstAidStation","useTransition","animated","config","FirstAidStationTwo","timeInterval","intervalPagination","useState","loading","setLoading","error","setError","getTotalBedsOccupied","getUnitiesValues","getPatients","refGetTotalBedsOccupied","useRef","totalOccupied","setTotalOccupied","useEffect","executeRequest","current","bedsOcuppied","message","interval","setInterval","clearInterval","refGetUnitiesValues","unitiesValues","setUnitiesValues","unities","refGetPatients","patients","setPatients","page","setPage","totalPage","titles","icon","title","transitionsPatients","from","opacity","y","enter","leave","display","trail","delay","gentle","type","color","id","map","unit","QTD","style","patient","genre","iconLab","iconRX","iconCheck","name"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport {\r\n  TascomFooter,\r\n  RoundedCard,\r\n  RectCard,\r\n  AsideInformations,\r\n  PSCard,\r\n} from \"../../components\";\r\nimport { Loading, Error } from \"../../helper\";\r\nimport { ReactComponent as Clock } from \"../../assets/svg/Clock.svg\";\r\nimport { ReactComponent as Check } from \"../../assets/svg/Check.svg\";\r\nimport { ReactComponent as LabExam } from \"../../assets/svg/LabExam.svg\";\r\nimport { ReactComponent as Skeleton } from \"../../assets/svg/Skeleton.svg\";\r\nimport useFirstAidStation from \"../../service/useFirstAidStation\";\r\nimport { useTransition, animated, config } from \"react-spring\";\r\n\r\nconst FirstAidStationTwo = () => {\r\n  const timeInterval = 5000;\r\n  const intervalPagination = 60000;\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState(false);\r\n  const { getTotalBedsOccupied, getUnitiesValues, getPatients } =\r\n    useFirstAidStation();\r\n\r\n  //Total Beds Occupied\r\n  const refGetTotalBedsOccupied = React.useRef(getTotalBedsOccupied);\r\n  const [totalOccupied, setTotalOccupied] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    setLoading(true);\r\n    async function executeRequest() {\r\n      try {\r\n        const { bedsOcuppied } = await refGetTotalBedsOccupied.current();\r\n        setTotalOccupied(bedsOcuppied);\r\n        setError(false);\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    executeRequest();\r\n    const interval = setInterval(() => {\r\n      executeRequest();\r\n    }, timeInterval);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  //Unities Values\r\n  const refGetUnitiesValues = React.useRef(getUnitiesValues);\r\n  const [unitiesValues, setUnitiesValues] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    setLoading(true);\r\n    async function executeRequest() {\r\n      try {\r\n        const { unities } = await refGetUnitiesValues.current();\r\n        setUnitiesValues(unities);\r\n        setError(false);\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    executeRequest();\r\n    const interval = setInterval(() => {\r\n      executeRequest();\r\n    }, timeInterval);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  // Stock Listing Items\r\n  const refGetPatients = React.useRef(getPatients);\r\n  const [patients, setPatients] = React.useState();\r\n  const [page, setPage] = React.useState(1);\r\n\r\n  React.useEffect(() => {\r\n    async function executeRequest() {\r\n      try {\r\n        const { patients, totalPage } = await refGetPatients.current(page, 12);\r\n        setError(false);\r\n        if (page > totalPage) {\r\n          setPage(1);\r\n        } else {\r\n          setPatients(patients);\r\n        }\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    executeRequest();\r\n    const interval = setInterval(() => {\r\n      setPage((page) => page + 1);\r\n    }, intervalPagination);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [page]);\r\n\r\n  // configs\r\n\r\n  const titles = [\r\n    {\r\n      icon: <Check className=\"w-4 h-4\" fill=\"#FF7A00\" />,\r\n      title: \"SOLICITADO INTERNAÇÃO\",\r\n    },\r\n    {\r\n      icon: <Check className=\"w-4 h-4\" fill=\"#76FF53\" />,\r\n      title: \"SOLICITAÇÃO ATENDIDA\",\r\n    },\r\n    {\r\n      icon: <LabExam className=\"w-4 h-4\" fill=\"#FFF\" />,\r\n      title: \"EXAME LABORATORIAL \",\r\n    },\r\n    {\r\n      icon: <Skeleton className=\"w-4 h-4\" fill=\"#FFF\" />,\r\n      title: \"EXAME DE IMAGEM\",\r\n    },\r\n    {\r\n      icon: <Clock className=\"w-4 h-4\" fill=\"#FFF\" />,\r\n      title: \"HORAS DE INTERNAÇÃO\",\r\n    },\r\n  ];\r\n\r\n  const transitionsPatients = useTransition(patients ? patients : [], {\r\n    from: { opacity: 0, y: -10 },\r\n    enter: { opacity: 1, y: 0 },\r\n    leave: { display: \"none\" },\r\n    trail: 100,\r\n    delay: 50,\r\n    config: config.gentle,\r\n  });\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <main className=\"min-h-screen w-full flex flex-col justify-center\">\r\n      <Helmet>\r\n        <title>CMDC | Pronto Socorro | Exames</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Dashboard com as informações relacionadas ao pronto socorro.\"\r\n        />\r\n      </Helmet>\r\n      <section className=\"px-5 flex-1 flex flex-col justify-center\">\r\n        <h2 className=\"text-2xl text-white text-center mb-2 font-semibold\">\r\n          Pronto Socorro\r\n        </h2>\r\n        <div className=\"w-full sm:max-w-7xl mx-auto flex flex-col gap-2\">\r\n          <div className=\"grid md:grid-cols-5 grid-cols-1 gap-2 sm:justify-items-center\">\r\n            <RoundedCard\r\n              data={totalOccupied}\r\n              title=\"LEITOS OCUPADOS\"\r\n              titleClass=\"font-normal sm:text-sm text-2sm w-25 mx-auto\"\r\n              className=\"bg-opacity-50 h-48 w-full col-span-1\"\r\n              roundedClass=\"w-42 h-42 text-3xl\"\r\n              rounded={{ type: \"gradient\", color: \"#A22BFF\", id: \"gdr-1\" }}\r\n              barSize={1}\r\n            />\r\n            <div className=\"sm:col-span-4 bg-blackCMDC bg-opacity-50 rounded-lg min-h-48 grid md:grid-cols-4 sm:grid-cols-2 grid-cols-1 gap-1 p-2 items-center w-full\">\r\n              {unitiesValues?.map(({ unit, QTD }) => (\r\n                <RectCard\r\n                  key={unit}\r\n                  color=\"#A22BFF\"\r\n                  className=\"flex justify-between px-5 sm:px-2 items-center h-32 border-l-3\"\r\n                >\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-gray-400 text-xsm\">UNIDADE:</span>\r\n                    <span className=\"text-white text-sm\">{unit}</span>\r\n                  </div>\r\n                  <RoundedCard\r\n                    data={QTD}\r\n                    className=\"bg-opacity-0 h-28 w-28\"\r\n                    roundedClass=\"w-28 h-28 text-2xl\"\r\n                    rounded={{\r\n                      type: \"gradient\",\r\n                      color: \"#A22BFF\",\r\n                      id: \"gdr-1\",\r\n                    }}\r\n                    barSize={0.6}\r\n                  />\r\n                </RectCard>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-blackCMDC bg-opacity-50 rounded-lg sm:h-96 min-h-56 grid sm:grid-cols-4 sm:grid-rows-3 grid-cols-2 grid-rows-6 gap-x-3 gap-y-1 sm:px-8 px-3 py-2 \">\r\n            {transitionsPatients((style, patient) => (\r\n              <animated.div style={style}>\r\n                <PSCard\r\n                  key={patient.name}\r\n                  data={patient}\r\n                  color={patient.genre === \"MASC\" ? \"#43FFFF\" : \"#FF7BEA\"}\r\n                  labIcon={patient.iconLab}\r\n                  rxIcon={patient.iconRX}\r\n                  checkIcon={patient.iconCheck}\r\n                />\r\n              </animated.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <div className=\"relative\">\r\n        <TascomFooter className=\"absolute bottom-0 left-0\" />\r\n        <AsideInformations\r\n          data={titles}\r\n          labelClass=\"sm:justify-around justify-center sm:flex-row flex-col text-xsm\"\r\n          className=\"max-w-3xl m-auto relative\"\r\n        />\r\n      </div>\r\n      {error && <Error message={error} />}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default FirstAidStationTwo;\r\n"]},"metadata":{},"sourceType":"module"}