{"ast":null,"code":"import _slicedToArray from\"/command-center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{RadialBarChart,RadialBar,ResponsiveContainer,PolarAngleAxis}from\"recharts\";import useUtilities from\"../../service/useUtilities\";import CountUp from\"react-countup\";import{ToolTip}from\"../\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RoundedGraphic(_ref){var data=_ref.data,title=_ref.title,exibition=_ref.exibition,className=_ref.className,titleClass=_ref.titleClass,barSize=_ref.barSize,rounded=_ref.rounded,graphicClass=_ref.graphicClass,toolTipConfig=_ref.toolTipConfig;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),dataChart=_React$useState2[0],setDataChart=_React$useState2[1];var _useUtilities=useUtilities(),getFontSize=_useUtilities.getFontSize;var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),tooltip=_React$useState4[0],setToolTip=_React$useState4[1];var calcPercent=function calcPercent(_ref2){var dataOne=_ref2.dataOne,dataTwo=_ref2.dataTwo;var result=dataOne/dataTwo*100;result=result<0?0:result;return Math.round(result);};React.useEffect(function(){if(data){if(typeof data===\"number\"){setDataChart([{percent:data}]);}else{var percent=calcPercent(data);setDataChart([{percent:percent}]);}}},[data]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blackCMDC rounded-lg flex flex-col p-2 \".concat(className),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center text-white relative \".concat(titleClass||\"text-xs font-semibold\"),children:[/*#__PURE__*/_jsx(\"span\",{onMouseOver:function onMouseOver(){return setToolTip(true);},onMouseLeave:function onMouseLeave(){return setToolTip(false);},children:title}),/*#__PURE__*/_jsx(ToolTip,{title:toolTipConfig&&toolTipConfig.title,display:toolTipConfig&&tooltip,desc:toolTipConfig&&toolTipConfig.desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto relative flex justify-center items-center \".concat(graphicClass),children:[/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",heigth:\"100%\",children:/*#__PURE__*/_jsxs(RadialBarChart,{data:dataChart,cx:\"50%\",cy:\"50%\",innerRadius:\"90%\",outerRadius:\"120%\",startAngle:0,children:[/*#__PURE__*/_jsx(RadialBar,{barSize:barSize?barSize*getFontSize():0.5*getFontSize(),fill:(rounded===null||rounded===void 0?void 0:rounded.type)===\"gradient\"?\"url(#\".concat((rounded===null||rounded===void 0?void 0:rounded.id)||\"gdr\",\")\"):(rounded===null||rounded===void 0?void 0:rounded.color)||\"#fff\",background:{fill:\"#151A20\"},dataKey:\"percent\",angleAxisId:0,cornerRadius:50}),/*#__PURE__*/_jsx(PolarAngleAxis,{type:\"number\",domain:[0,100],tick:false,angleAxisId:0}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:rounded.id||\"gdr\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\".5\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#3d3d3f\",stopOpacity:0}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:rounded.color||\"#fff\",stopOpacity:0.7})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full absolute flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-white text-2xl font-bold\",children:[/*#__PURE__*/_jsx(CountUp,{end:dataChart[0]?dataChart[0].percent:0,duration:1}),\"%\"]})})]}),exibition&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between items-center text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-sm\",children:data?data.dataOne:0}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:exibition.titleOne})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-sm\",children:data?data.dataTwo:0}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:exibition.titleTwo})]})]})]});}export default RoundedGraphic;","map":{"version":3,"sources":["/command-center/src/components/RoundedGraphic/RoundedGraphic.jsx"],"names":["React","RadialBarChart","RadialBar","ResponsiveContainer","PolarAngleAxis","useUtilities","CountUp","ToolTip","RoundedGraphic","data","title","exibition","className","titleClass","barSize","rounded","graphicClass","toolTipConfig","useState","dataChart","setDataChart","getFontSize","tooltip","setToolTip","calcPercent","dataOne","dataTwo","result","Math","round","useEffect","percent","desc","type","id","color","fill","titleOne","titleTwo"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  RadialBarChart,\r\n  RadialBar,\r\n  ResponsiveContainer,\r\n  PolarAngleAxis,\r\n} from \"recharts\";\r\nimport useUtilities from \"../../service/useUtilities\";\r\nimport CountUp from \"react-countup\";\r\nimport { ToolTip } from \"../\";\r\n\r\nfunction RoundedGraphic({\r\n  data,\r\n  title,\r\n  exibition,\r\n  className,\r\n  titleClass,\r\n  barSize,\r\n  rounded,\r\n  graphicClass,\r\n  toolTipConfig,\r\n}) {\r\n  const [dataChart, setDataChart] = React.useState([]);\r\n  const { getFontSize } = useUtilities();\r\n  const [tooltip, setToolTip] = React.useState(false);\r\n\r\n  const calcPercent = ({ dataOne, dataTwo }) => {\r\n    let result = (dataOne / dataTwo) * 100;\r\n    result = result < 0 ? 0 : result;\r\n    return Math.round(result);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (data) {\r\n      if (typeof data === \"number\") {\r\n        setDataChart([{ percent: data }]);\r\n      } else {\r\n        let percent = calcPercent(data);\r\n        setDataChart([{ percent }]);\r\n      }\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <div className={`bg-blackCMDC rounded-lg flex flex-col p-2 ${className}`}>\r\n      <h2\r\n        className={`text-center text-white relative ${\r\n          titleClass || \"text-xs font-semibold\"\r\n        }`}\r\n      >\r\n        <span\r\n          onMouseOver={() => setToolTip(true)}\r\n          onMouseLeave={() => setToolTip(false)}\r\n        >\r\n          {title}\r\n        </span>\r\n        <ToolTip\r\n          title={toolTipConfig && toolTipConfig.title}\r\n          display={toolTipConfig && tooltip}\r\n          desc={toolTipConfig && toolTipConfig.desc}\r\n        />\r\n      </h2>\r\n      <div\r\n        className={`m-auto relative flex justify-center items-center ${graphicClass}`}\r\n      >\r\n        <ResponsiveContainer width=\"100%\" heigth=\"100%\">\r\n          <RadialBarChart\r\n            data={dataChart}\r\n            cx=\"50%\"\r\n            cy=\"50%\"\r\n            innerRadius=\"90%\"\r\n            outerRadius=\"120%\"\r\n            startAngle={0}\r\n          >\r\n            <RadialBar\r\n              barSize={barSize ? barSize * getFontSize() : 0.5 * getFontSize()}\r\n              fill={\r\n                rounded?.type === \"gradient\"\r\n                  ? `url(#${rounded?.id || \"gdr\"})`\r\n                  : rounded?.color || \"#fff\"\r\n              }\r\n              background={{ fill: \"#151A20\" }}\r\n              dataKey=\"percent\"\r\n              angleAxisId={0}\r\n              cornerRadius={50}\r\n            />\r\n            <PolarAngleAxis\r\n              type=\"number\"\r\n              domain={[0, 100]}\r\n              tick={false}\r\n              angleAxisId={0}\r\n            />\r\n            <defs>\r\n              <linearGradient\r\n                id={rounded.id || \"gdr\"}\r\n                x1=\"0\"\r\n                y1=\"0\"\r\n                x2=\"0\"\r\n                y2=\".5\"\r\n              >\r\n                <stop offset=\"5%\" stopColor=\"#3d3d3f\" stopOpacity={0} />\r\n                <stop\r\n                  offset=\"95%\"\r\n                  stopColor={rounded.color || \"#fff\"}\r\n                  stopOpacity={0.7}\r\n                />\r\n              </linearGradient>\r\n            </defs>\r\n          </RadialBarChart>\r\n        </ResponsiveContainer>\r\n        <div className=\"w-full h-full absolute flex justify-center items-center\">\r\n          <span className=\"text-white text-2xl font-bold\">\r\n            <CountUp\r\n              end={dataChart[0] ? dataChart[0].percent : 0}\r\n              duration={1}\r\n            />\r\n            %\r\n          </span>\r\n        </div>\r\n      </div>\r\n      {exibition && (\r\n        <div className=\"flex flex-row justify-between items-center text-white\">\r\n          <div className=\"flex flex-col justify-center items-center\">\r\n            <span className=\"font-bold text-sm\">{data ? data.dataOne : 0}</span>\r\n            <span className=\"text-xs\">{exibition.titleOne}</span>\r\n          </div>\r\n          <div className=\"flex flex-col justify-center items-center\">\r\n            <span className=\"font-bold text-sm\">{data ? data.dataTwo : 0}</span>\r\n            <span className=\"text-xs\">{exibition.titleTwo}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoundedGraphic;\r\n"]},"metadata":{},"sourceType":"module"}